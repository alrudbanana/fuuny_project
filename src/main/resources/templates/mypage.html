<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
 xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout1}">
<head>

<style type="text/css">
	.btn-upload {
  width: 180px;
  height: 30px;
  background: #fff;
  border: 1px solid rgb(77,77,77);
  border-radius: 10px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  }

	
	#file {
	  display: none;
	}
</style>

	
</head>

<header>
      
      </li>
      <li><a href="">홈</a></li>
      <li><a href="">공지사항</a></li>
      <li><a href="">문의사항</a></li>
      <li><a href="">프로젝트올리기</a></li>
    </ul>
    <ul class="navbar_login">
      <li><a href="/members/login">로그인</a></li>
      <li><a href="">회원가입</a></li>
    </ul>

 
 </div>
</header>

<body>


<div layout:fragment="content">



		<p id="p1">회원정보</p>


<table >

	<tr>
      <th scope="row"></th>
      <td>
	      <!-- 기본이미지 출력확인 후 주석처리
	      <img th:src="@{/img/profile/default.png}" alt="profile">
	         -->
	       <img th:src="${member.imgurl}" height="150px" width="150px">
	      <!-- 프로필 이미지 업로드 폼 -->
			<form method="POST" th:action="@{'/members/profile/img/' + ${member.idx}}" enctype="multipart/form-data">
				<input type="hidden" name="id" th:value="${member.idx}">
				<label for="file">
				  <div class="btn-upload">프로필 이미지 선택</div>
				</label>
			  <input type="file" name="file" accept="image/*" id="file">
			  <button type="submit" class="btn-upload">Upload</button>
			</form>
      </td>
    </tr>


    <tr>
      <th scope="row">이메일</th>
      <td th:text="${member.Email}"></td>
    </tr>
    
        <tr>
      <th scope="row">이름</th>
      <td th:text="${member.MemName}"></td>
    </tr>
    
        <tr>
      <th scope="row">핸드폰번호</th>
      <td th:text="${member.MemPhone}"></td>
    </tr>
    
        <tr>
      <th scope="row">주소</th>
      <td th:text="${member.Zipcode}"></td>
      <td th:text="${member.StreetAdr}"></td>
      <td th:text="${member.DetailAdr}"></td>
    </tr>
    

</table>
		<a th:href="@{|/members/modify/${member.idx}|}"><button>회원정보 수정하기</button></a>
		<a href="javascript:void(0);" class="delete" th:data-uri="@{|/members/delete/${member.idx}|}" ><button>회원탈퇴하기</button></a>
		<a th:href="@{/members/modify/pwd}"><button>비밀번호 변경하기</button></a>
		

<!--  
<div class="card-body">
	<div>
				<label class="form-label">현재비밀번호입력</label>
				<input type="password" id="pwd" placeholder = "현재 비밀번호를 입력" >
	</div>
	<div>		
				<label class="form-label">새로 사용할 비밀번호 입력</label>
				<input type="password" id="pwd1" placeholder = "새로운 비밀번호를 입력" >
	</div>
	<div>		
				<label class="form-label">새로 사용할 비밀번호를 한번 더 입력해주세요</label>
				<input type="password" id="pwd2" placeholder = "새로운 비밀번호를 입력" >
	</div>			
				<div id = "errormessege"></div>
				<input type="button" id="button" value="완료">
			</div>
	</div>
<div class="text-center">
<button class="btn bg-gradient-primary w-100 my-4 mb-2" id="checkPwd"> 비밀번호 확인</button>

-->




<!-- 
		<h4>이메일</h4>
		<h4 th:text="${member.Email}"></h4>
		<h4>이름</h4>
		<h4 th:text="${member.MemName}"></h4>
		<h4>핸드폰번호</h4>
		<h4 th:text="${member.MemPhone}"></h4>
		<h4>주소</h4>
		<h4 th:text="${member.Zipcode}"></h4>
		<h4 th:text="${member.StreetAdr}"></h4>
		<h4 th:text="${member.DetailAdr}"></h4>
 -->			

<script >
	const delete_elements = document.getElementsByClassName("delete");
	Array.from(delete_elements).forEach(function(element) {
		element.addEventListener('click', function() {
			if (confirm("정말로 탈퇴하시겠습니까?")) {
				location.href = this.dataset.uri;
			};
		});
	});
</script>

</html>